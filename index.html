<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VIRTUAL DIVA</title>
        <link rel="shortcut icon" href="https://files.catbox.moe/j2aivj.gif">
        <link rel="stylesheet" href="/style.css">
        <link rel="stylesheet" href="/commentwidget.css">
        <script src="https://kit.fontawesome.com/f936906ae0.js" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script src="https://static.tumblr.com/rtrqcib/VGGnlh8rf/jquery.style-my-tooltips.min.js"></script>
        <script>(function($){$(document).ready(function(){$("a[title]").style_my_tooltips({tip_follows_cursor:true,tip_delay_time:0,tip_fade_speed:0,attribute:"title"});});})(jQuery);</script>
        <meta name="description" content="A Hatsune Miku inspired website by a fan, for fans!">
        
        <script type="text/javascript">
            var url = location.href;
            if (url == "https://adilene.neocities.org/") {
                window.location = "https://adilene.net";
            }
        </script>
        
        <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase.js"></script>
    </head>
    <style>
        
        
    </style>
    <body>
        <div class="lines"></div>
        
        <div id="wrapper">
        <div id="miku">
            <div class="virtualdiva">VIRTUAL<br>DIVA</div>
            <div id="mikuheader"> </div>
        </div>
        
        <div class="container">
            <div class="main">
                <iframe id="mainframe" src="/pages/home.html" width="100%" height="100%" frameborder="0" name="frame"></iframe>
            </div>
            <div class="updates">
                <div class="title">
                    <header>UPDATES</header>
                </div>
                
                <div class="inner">
                    <div class="update">04.22.24 Major changes to the webring!</div>
                    <div class="update">03.30.24 Fixed a bug with the chatbox that caused multiple messages!</div>
                    <div class="update">08.3.23 New webring open for business!</div>
                    <div class="update">06.10.23 Working on a new project! My ocverse: Scenario 0.</div>
                    <div class="update">05.2.23 Site has been moved to Hostinger! Oekaki page has been updated!</div>
                    <div class="update">04.27.23 Added a voting system to the Oekaki Gallery! New diary entry! Added one new song!</div>
                    <div class="update">04.19.23 Webring updated!</div>
                    <div class="update">04.14.23 Figure Reviews are on hold until my move is complete!</div>
                    <div class='update'>03.26.23 Reworked the Puella Magi Madoka Magica shrine!</div>
                    <div class="update">03.21.23 Added an Oekaki page! Retired iMiku!</div>
                    <div class="update">03.20.23 Site has been moved to Netlify! </div>
                    <div class="update">03.19.23 Site is completely moved to AWS! Neocities profile will no longer be updated!</div>
                    <div class="update">03.17.23 Site is in the process of being moved to AWS! Some pages and images may not load properly!</div>
                    <div class="update">02.10.23 Added a Sitemap!</div>
                    <div class="update">02.1.23 Diary is back!</div>
                    <div class="update">01.27.23 New look to Figures!</div>
                    <div class="update">01.26.23 Added two new songs!</div>
                    <div class="update" style="margin-bottom:0;">1.19.23 Welcome to VIRTUAL DIVA V3!</div>
                </div>
            </div>
            <div class="links">
                <div class="title">
                    <header>DIRECTORY</header>
                </div>
                <div class="inner" style="padding:4px 10px;">
                    <table>
                    <tbody>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/home.html" target="frame">Home</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet"  draggable="false"></td><td><a href="/pages/about.html" target="frame">About</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/diary.html" target="frame">Diary</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/songs.html" target="frame">Songs</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/reviews.html" target="frame">Figures</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/shrines.html" target="frame">Shrines</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/photos.html" target="frame">Photos</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/resources.html" target="frame">Resources</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="https://webring.adilene.net/index.php" target="_parent">Webring</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/games.html" target="frame">Games</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="https://oekaki.adilene.net/" target="_parent">Oekaki</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="https://scenario.adilene.net/" target="_parent">Scenario</a></td>
                        </tr>
                        <tr style="display:flex;">
                            <td><img src="https://adilene.neocities.org/images/bullet2.gif" class="bullet" draggable="false"></td><td><a href="/pages/sitemap.html" target="frame">Sitemap</a></td>
                        </tr>
                    </tbody>
                    </table>
                    
                </div>
            </div>
            <div class="stats">
                <div class="title">
                    <header>STATS</header>
                </div>
                <div class="inner" style="display:flex;flex-direction:column;justify-content:space-between;height:100%;text-align:center;color:var(--color);">
                    <div id="root">...</div>
                    <div>Hits: <span id="hitcount"></span></div>
                    <div>Last Updated: <span id="lastupdated"></span></div>
                </div>
            </div>
            
            <div class="jukebox">
                <div class="title">
                    <header>JUKEBOX</header>
                </div>
                
                <div class="inner" style="padding:0;">
                    <div id="musicplayer">
                            <div style="text-align:center;">
                                <b><div class="now-playing" style="text-align:center;background-color:var(--h);padding:5px;"></div></b>
                                <div style="text-align:center;background-color:var(--h);padding:5px;margin-top:10px;">
                                    <div class="track-name"></div>
                                    <div class="track-artist"></div>
                                </div>
                            </div>
                            
                        <div style="display:flex;flex-direction:column;justify-content: space-between;align-content: space-between;height:110px;">
                            <div class="seeking">
                                <div class="current-time">00:00</div>

                                <input type="range" min="1" max="100" value="0" class="seek_slider" onchange="seekTo()">

                                <div class="total-duration">0:00</div>
                            </div>
                            
                            <table class="controls">
                                <tr>
                                    <td>
                                        <div class="prev-track" onclick="prevTrack()"><i class="fas fa-solid fa-backward"></i></div>
                                    </td>
                                    <td>
                                        <div class="playpause-track" onclick="playpauseTrack()" ><i class="fas fa-solid fa-play"></i></div>
                                    </td>
                                    <td>
                                        <div class="next-track" onclick="nextTrack()"><i class="fas fa-solid fa-forward"></i></div>
                                    </td>
                                </tr>
                            </table>

                            <div class="volume">
                                <div style="margin-left:-10px;margin-right:5px;">Volume</div>
                                <input type="range" min="1" max="100" value="50" class="volume_slider" onchange="setVolume()">
                                
                            </div>
                        </div>

                        <audio id="music" src=""></audio> 
                    </div>
                </div>
            </div>
            
            <div class="chatbox">
                <div class="title">
                    <header>CHATBOX</header>
                </div>
                <div id="c_widget"></div>
            </div>
            
            <div class="banner">
                <img src="https://adilene.neocities.org/images/banner.jpeg">
            </div>
            
        </div>
            
        <div class="footer">
            best viewed on desktop &lt;3 coded with love &lt;3 adilene 2021 - 2024
        </div>
            
       <!--<div id="bottom"><button onclick="toggleTheme();">Toggle Theme</button></div>-->
            
        </div>
        
        <script src="/scripts/music.js"></script>
        <script>
        
        </script>
        
        <script>     
            var http = new XMLHttpRequest();
            http.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    var site_data = JSON.parse(this.responseText);
                    var num_arr = site_data.info.views.toString().split("");
                    var num_str = "";
                    for (i = 0; i < num_arr.length; i++) {
                        num_str += num_arr[i];
                        if ( (num_arr.length-1 - i) % 3 == 0 && (num_arr.length-1 - i) != 0 ) {num_str += ",";}
                    }
                    document.getElementById("hitcount").innerHTML = num_str;
                }
            };
            http.open("GET", "https://weirdscifi.ratiosemper.com/neocities.php?sitename=adilene", true);
            http.send();
        </script>
        
        <script>
            const username = 'skycchi';
            const repoName = 'adilene';
            const apiUrl = `https://api.github.com/repos/${username}/${repoName}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const lastUpdated = new Date(data.updated_at);
                    const formattedDate = lastUpdated.toLocaleDateString('en-US', {
                        month: '2-digit',
                        day: '2-digit',
                        year: '2-digit',
                        }).replace(/\//g, '.');
                    document.getElementById('lastupdated').textContent = `${formattedDate}`;
                })
        </script>
        
        <script src="/scripts/comment-widget.js"></script>
        
        <script defer type='text/javascript'>
            // Your web app's Firebase configuration
            //for reference goto https://firebase.google.com/docs/database/web/start
            const firebaseConfig = {

                apiKey: "AIzaSyCeZk8TIsWfhGfD7ZyTloHybiO-7E6B3cQ",

                authDomain: "online-user-counter.firebaseapp.com",

                databaseURL: "https://online-user-counter-default-rtdb.firebaseio.com",

                projectId: "online-user-counter",

                storageBucket: "online-user-counter.appspot.com",

                messagingSenderId: "201622433719",

                appId: "1:201622433719:web:2fee36f21385ce4e22c232",

                measurementId: "G-90G2VEMZCZ"

            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            console.log(firebase.database());
        </script>
        
        <script>
            function setCookie(cname, cvalue, exdays) {
                var d = new Date();
                d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
                var expires = "expires=" + d.toUTCString();
                document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            }

            function getCookie(cname) {
                var name = cname + "=";
                var ca = document.cookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }
            var track = (xx) => {

                var userStatusDatabaseRef = firebase.database().ref('/tempUser/' + xx);

                var isOfflineForDatabase = {
                    state: 'offline',
                    last_changed: firebase.database.ServerValue.TIMESTAMP,
                };

                var isOnlineForDatabase = {
                    state: 'online',
                    last_changed: firebase.database.ServerValue.TIMESTAMP,
                };

                firebase.database().ref('.info/connected').on('value', function (snapshot) {
                    if (snapshot.val() == false) {
                        return;
                    };

                    userStatusDatabaseRef.onDisconnect().set(isOfflineForDatabase).then(function () {
                        userStatusDatabaseRef.set(isOnlineForDatabase);
                    });
                });
                checkOnline()

            }
            var user = getCookie("tracking");
            if (user != "") {
                track(user)
            } else {
                user = Date.now().toString(16);
                if (user != "" && user != null) {
                    setCookie("tracking", user, 365);
                    track(user)
                }
            }

            function checkOnline() {
                firebase.database().ref('/tempUser/').orderByChild('state').equalTo("online").on("value", (data => {
                    var liveVisitorCounter = data.numChildren();
                    var root = document.getElementById('root');
                    root.innerText = liveVisitorCounter + " Online";

                }))
            }
        </script>

    </body>
</html>